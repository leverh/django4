{% extends "base.html" %}

{% block content %}
<div class="update-rec-cont">
  <h2>Update Recipe</h2>
  <form class="update-recipe-form" method="post" action="{% url 'recipe-update' pk=recipe.id %}" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" value="Update" class="btn btn-primary update-rec-btn">
  </form>
  <form class="delete-recipe-form" action="{% url 'recipe-delete' pk=recipe.id %}" method="post">
    {% csrf_token %}
    <input type="submit" value="Delete Recipe" class="recipe-delete-btn rec-delete-btn-update" onclick="return confirm('Are you sure you want to delete this recipe?');">
  </form>
</div>
  
  
  <!-- Delete confirmation modal -->
  <div class="modal" tabindex="-1" role="dialog" id="deleteModal">
    <!-- Modal content -->
  </div>

  <!-- Update success modal -->
  <div class="modal" tabindex="-1" role="dialog" id="updateSuccessModal">
    <!-- Modal content -->
  </div>

  <script>
    /*jshint globalstrict: true */
    /*global $ */

    $(document).ready(function() {
      // Get the update message from Django template context
      var updateMessage = "{{ update_message }}";

      // Show update success modal if the message is present
      if (updateMessage) {
        $('#updateSuccessModal').modal('show');
      }
    });
  </script>
{% endblock %}
